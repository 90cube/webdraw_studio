# 백엔드 API 통합 (Backend API Integration)

## 1. 개요
프론트엔드와 백엔드 간의 데이터 통신을 위한 아키텍처 및 전략을 정의합니다. 실제 백엔드 구현 전까지는 Mock API를 사용하여 프론트엔드 개발을 진행합니다.

## 2. 주요 구성 요소 및 전략

### 2.1. Mock API (`js/core/mockApi.js`)
- **목적:** 실제 백엔드가 개발되기 전까지 프론트엔드에 필요한 데이터를 제공하는 가상 백엔드 역할을 합니다.
- **데이터 관리:** 모든 가상 데이터(예: 모델 파일 목록)를 `mockApi.js` 파일 내에서 중앙 집중식으로 관리합니다.
- **쉬운 교체:** `mockApi.js` 파일의 내부 로직만 실제 `fetch` API 호출로 변경하면, 프론트엔드의 다른 부분 수정 없이 실제 백엔드와 연동될 수 있도록 설계되었습니다.
- **현재 제공 API:**
    - `fetchFileList()`: `models` 폴더 구조를 시뮬레이션한 전체 파일 목록을 반환합니다.

### 2.2. 전역 상태 관리 (`js/core/stateManager.js`)
- **목적:** 애플리케이션 전반에 걸쳐 공유되어야 하는 상태(예: 현재 선택된 베이스 모델)를 중앙에서 관리합니다.
- **상태 종류:**
    - `currentBaseModel`: 현재 선택된 체크포인트의 베이스 모델(예: `sd15`, `sdxl`).
    - `currentResolution`: 현재 설정된 이미지 생성 해상도(`{ width, height }`).
- **상태 변경 알림:** `setState` 메서드를 통해 상태가 변경되면 `CustomEvent`를 발생시켜, 해당 상태를 구독하는 다른 모듈들이 자동으로 업데이트되도록 합니다.
- **구독:** `listen` 메서드를 통해 특정 상태의 변경을 구독할 수 있습니다.

### 2.3. 백엔드 API 가이드 (`guide/backend_api_guide.md`)
- **목적:** 프론트엔드 개발 과정에서 정의되는 백엔드 API의 명세를 문서화합니다.
- **내용:** 각 API 엔드포인트의 목적, 요청 파라미터, 성공 응답 형식 등을 포함합니다.
- **현재 명세:** `GET /api/files` (모델 파일 목록 조회) API 명세가 포함되어 있습니다.

### 2.4. 개발 원칙
- **프론트엔드 주도:** 백엔드 API가 정의되지 않은 상태에서도 프론트엔드 개발을 진행할 수 있도록 합니다.
- **느슨한 결합:** `mockApi.js`와 `stateManager.js`를 통해 각 UI 컴포넌트가 백엔드나 전역 상태에 직접 의존하지 않고 간접적으로 통신하도록 하여 모듈 간의 결합도를 낮춥니다.
